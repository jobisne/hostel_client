{"ast":null,"code":"import _defineProperty from\"/home/jobilite/Desktop/hostel_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jobilite/Desktop/hostel_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/jobilite/Desktop/hostel_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useMutation}from\"@apollo/react-hooks\";import{HOSTEL_REG}from'../Query/graphql';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UploadForm(){var _useState=useState({hostelName:'',hostelMaster:'',hostelDesc:'',yearEstablish:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedFile=_useState4[0],setSelectedFile=_useState4[1];var onChange=function onChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};// console.log(values);\n//  console.log(selectedFile);\n//   const [uploadFile] = useMutation(UPLOAD_FILE, {\n//     onCompleted: (data) => console.log(data),\n//   });\n//   const handleFileChange = (e) => {\n//     const file = e.target.files[0];\n//     setSelectedFile(file)\n//     // if (!file) return;\n//     // uploadFile({ variables: { file } });\n//   };\nvar _useMutation=useMutation(HOSTEL_REG,{update:function update(proxy,result){console.log(result);},variables:{hostelName:values.hostelName,hostelMaster:values.hostelMaster,hostelImage:selectedFile,hostelDesc:values.hostelDesc,yearEstablish:values.yearEstablish}}),_useMutation2=_slicedToArray(_useMutation,2),addHostel=_useMutation2[0],loading=_useMutation2[1].loading;var onSubmit=function onSubmit(event){event.preventDefault();addHostel();setValues({hostelName:'',hostelMaster:'',hostelDesc:'',yearEstablish:''});};return/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(\"h1\",{children:\" THis is loading\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"File Upload\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Hostel Name\",onChange:onChange,value:values.hostelName,name:\"hostelName\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Hostel Master\",onChange:onChange,value:values.hostelMaster,name:\"hostelMaster\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Hostel Desc\",onChange:onChange,value:values.hostelDesc,name:\"hostelDesc\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Year Establish\",onChange:onChange,value:values.yearEstablish,name:\"yearEstablish\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return setSelectedFile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"submit\"})]})]});}export default UploadForm;","map":{"version":3,"sources":["/home/jobilite/Desktop/hostel_client/src/pages/UploadForm.js"],"names":["React","useState","useMutation","HOSTEL_REG","UploadForm","hostelName","hostelMaster","hostelDesc","yearEstablish","values","setValues","selectedFile","setSelectedFile","onChange","event","target","name","value","update","proxy","result","console","log","variables","hostelImage","addHostel","loading","onSubmit","preventDefault","e","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useMutation} from \"@apollo/react-hooks\";\nimport { HOSTEL_REG } from '../Query/graphql';\n \n\n\nfunction UploadForm() {\n  const [values, setValues] =useState( {\n    hostelName: '',\n    hostelMaster: '',\n    hostelDesc: '',\n    yearEstablish: ''\n  });\n  const [selectedFile, setSelectedFile] = useState(null)\n\n\n\n\n  const onChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n  // console.log(values);\n\n//  console.log(selectedFile);\n\n//   const [uploadFile] = useMutation(UPLOAD_FILE, {\n//     onCompleted: (data) => console.log(data),\n//   });\n\n//   const handleFileChange = (e) => {\n//     const file = e.target.files[0];\n//     setSelectedFile(file)\n//     // if (!file) return;\n//     // uploadFile({ variables: { file } });\n \n//   };\n\n  const [addHostel, {loading}] = useMutation(HOSTEL_REG, {\n    update(proxy, result){\n        console.log(result)\n    },\n    variables:{\n        hostelName: values.hostelName,\n        hostelMaster:values.hostelMaster,\n        hostelImage: selectedFile,\n        hostelDesc: values.hostelDesc,\n        yearEstablish: values.yearEstablish\n    }\n})\n\nconst onSubmit = (event) => {\n    event.preventDefault();\n    addHostel();\n    setValues({ hostelName:'', hostelMaster:'', hostelDesc: '', yearEstablish: ''})\n  }\n\n  return (\n    <div>\n      {loading && ( <h1> THis is loading</h1>)}\n      <form onSubmit={onSubmit}>\n        <h1>File Upload</h1>\n        <input\n          type=\"text\"\n          placeholder=\"Hostel Name\"\n          onChange={onChange}\n          value={values.hostelName}\n          name=\"hostelName\"\n        /><br/><br/>\n        <input\n          type=\"text\"\n          placeholder=\"Hostel Master\"\n          onChange={onChange}\n          value={values.hostelMaster}\n          name=\"hostelMaster\"\n        /><br/><br/>\n        <input\n          type=\"text\"\n          placeholder=\"Hostel Desc\"\n          onChange={onChange}\n          value={values.hostelDesc}\n          name=\"hostelDesc\"\n        /><br/><br/>\n         <input\n          type=\"text\"\n          placeholder=\"Year Establish\"\n          onChange={onChange}\n          value={values.yearEstablish}\n          name=\"yearEstablish\"\n        /><br/><br/>\n        <input\n          type=\"file\"\n         \n          onChange={(e) => setSelectedFile((e.target.files[0]))}\n        />\n        <button type=\"submit\">submit</button>\n      </form>\n    </div>\n  );\n}\n\nexport default UploadForm;\n"]},"metadata":{},"sourceType":"module"}