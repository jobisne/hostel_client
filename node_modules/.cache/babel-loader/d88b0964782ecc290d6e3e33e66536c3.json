{"ast":null,"code":"import _slicedToArray from\"/home/jobilite/Desktop/hostel_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{AuthContext}from\"../context/auth\";import{FETCH_SINGLE_HOSTEL,FETCH_NUMBERS_OF_AETAM,FETCH_NUMBERS_OF_NONAETAM}from\"../Query/graphql\";import{useQuery}from\"@apollo/react-hooks\";import{Button}from\"semantic-ui-react\";import{Link}from\"react-router-dom\";import\"./Hostel.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Hostel(props){var admin=\"admin\";var aetam=\"aetam\";var nonAetam=\"nonaetam\";// const hostelName = 'seediq'\nvar postId=props.match.params.postId;console.log(postId);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),getHostel=_useState2[0],setGetHostel=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),getAetam=_useState4[0],setGetAetam=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),getNonAetam=_useState6[0],setGetNonAetam=_useState6[1];var _useContext=useContext(AuthContext),user=_useContext.user;// console.log(user)\nvar _useQuery=useQuery(FETCH_SINGLE_HOSTEL,{variables:{postId:postId}}),single_hostel=_useQuery.data;useEffect(function(){var isMounted=true;if(isMounted){if(single_hostel){setGetHostel(single_hostel.getHostel);}}return function(){isMounted=false;};},[single_hostel]);var id=getHostel.id,hostelName=getHostel.hostelName,hostelImage=getHostel.hostelImage,hostelDec=getHostel.hostelDec,hostelMaster=getHostel.hostelMaster;console.log(hostelName);var _useQuery2=useQuery(FETCH_NUMBERS_OF_AETAM,{variables:{postAetam:aetam,nameHostel:hostelName}}),num_aetam=_useQuery2.data;useEffect(function(){var isMounted=true;if(isMounted){if(num_aetam){setGetAetam(num_aetam.getAetam);}}return function(){isMounted=false;};},[num_aetam]);console.log(num_aetam);var _useQuery3=useQuery(FETCH_NUMBERS_OF_NONAETAM,{variables:{postNonAetam:nonAetam,nameHostel:hostelName}}),num_nonaetam=_useQuery3.data;useEffect(function(){var isMounted=true;if(isMounted){if(num_nonaetam){setGetNonAetam(num_nonaetam.getNonAetam);}}return function(){isMounted=false;};},[num_nonaetam]);console.log(num_nonaetam);var numberOfNonAetam=Object.keys(getNonAetam).map(function(key){return getNonAetam[key];});// console.log(numberOfNonAetam[0])\nvar numberOfAetam=Object.keys(getAetam).map(function(key){return getAetam[key];});var totalNum=parseInt(numberOfAetam[0])+parseInt(numberOfNonAetam[0]);var page=user?user.hostelName===hostelName||user.hostelName===admin?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box_one\",children:/*#__PURE__*/_jsx(\"img\",{src:hostelImage,alt:\"hostel\",className:\"image_box\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"box_two\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Hostel Information\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Hostel Name\"}),\" : \",/*#__PURE__*/_jsx(\"span\",{children:hostelName&&hostelName.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Year Establish\"}),\" : \",/*#__PURE__*/_jsx(\"span\",{children:\"2020\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Hostel Master\"}),\" :\",/*#__PURE__*/_jsx(\"span\",{children:hostelMaster&&hostelMaster.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Total Number of Students\"}),\" :\",/*#__PURE__*/_jsx(\"span\",{children:totalNum})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Non Aetam\"}),\" : \",/*#__PURE__*/_jsx(\"span\",{children:numberOfNonAetam[0]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Aetam\"}),\" : \",/*#__PURE__*/_jsx(\"span\",{children:numberOfAetam[0]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box_three\",children:[/*#__PURE__*/_jsx(Link,{to:\"/registration\",className:\"navbar-logo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:\"Add New Student\"})}),/*#__PURE__*/_jsx(Link,{to:\"/search\",className:\"navbar-logo btn-space\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:\"Search Students\"})}),/*#__PURE__*/_jsx(Link,{to:\"/view/\".concat(hostelName),className:\"navbar-logo btn-space\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:\"View Students\"})})]})]})})})}):/*#__PURE__*/_jsx(Button,{color:\"teal\",as:Link,to:\"/ourproject\",secondary:true,children:\"Click To View Our Project\"}):/*#__PURE__*/_jsx(Button,{color:\"teal\",as:Link,to:\"/ourproject\",secondary:true,children:\"Click to View Our Project\"});return page;}export default Hostel;","map":{"version":3,"sources":["/home/jobilite/Desktop/hostel_client/src/pages/Hostel.js"],"names":["React","useState","useContext","useEffect","AuthContext","FETCH_SINGLE_HOSTEL","FETCH_NUMBERS_OF_AETAM","FETCH_NUMBERS_OF_NONAETAM","useQuery","Button","Link","Hostel","props","admin","aetam","nonAetam","postId","match","params","console","log","getHostel","setGetHostel","getAetam","setGetAetam","getNonAetam","setGetNonAetam","user","variables","single_hostel","data","isMounted","id","hostelName","hostelImage","hostelDec","hostelMaster","postAetam","nameHostel","num_aetam","postNonAetam","num_nonaetam","numberOfNonAetam","Object","keys","map","key","numberOfAetam","totalNum","parseInt","page","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { AuthContext } from \"../context/auth\";\nimport {\n  FETCH_SINGLE_HOSTEL,\n  FETCH_NUMBERS_OF_AETAM,\n  FETCH_NUMBERS_OF_NONAETAM,\n} from \"../Query/graphql\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { Button } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Hostel.css\";\n\nfunction Hostel(props) {\n  const admin = \"admin\";\n  const aetam = \"aetam\";\n  const nonAetam = \"nonaetam\";\n  // const hostelName = 'seediq'\n  const postId = props.match.params.postId;\n\n  console.log(postId);\n  const [getHostel, setGetHostel] = useState([]);\n  const [getAetam, setGetAetam] = useState(\"\");\n  const [getNonAetam, setGetNonAetam] = useState(\"\");\n\n  const { user } = useContext(AuthContext);\n  // console.log(user)\n\n  const { data: single_hostel } = useQuery(FETCH_SINGLE_HOSTEL, {\n    variables: {\n      postId,\n    },\n  });\n\n  useEffect(() => {\n    let isMounted = true;\n    if (isMounted) {\n      if (single_hostel) {\n        setGetHostel(single_hostel.getHostel);\n      }\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [single_hostel]);\n\n  const { id, hostelName, hostelImage, hostelDec, hostelMaster } = getHostel;\n  console.log(hostelName)\n\n  const { data: num_aetam } = useQuery(FETCH_NUMBERS_OF_AETAM, {\n    variables: {\n      postAetam: aetam,\n      nameHostel: hostelName,\n    },\n  });\n\n  useEffect(() => {\n    let isMounted = true;\n    if (isMounted) {\n      if (num_aetam) {\n        setGetAetam(num_aetam.getAetam);\n      }\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [num_aetam]);\n  console.log(num_aetam)\n\n  const { data: num_nonaetam } = useQuery(FETCH_NUMBERS_OF_NONAETAM, {\n    variables: {\n      postNonAetam: nonAetam,\n      nameHostel: hostelName,\n    },\n  });\n  useEffect(() => {\n    let isMounted = true;\n    if (isMounted) {\n      if (num_nonaetam) {\n        setGetNonAetam(num_nonaetam.getNonAetam);\n      }\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [num_nonaetam]);\n  console.log(num_nonaetam)\n\n  let numberOfNonAetam = Object.keys(getNonAetam).map(\n    (key) => getNonAetam[key]\n  );\n  // console.log(numberOfNonAetam[0])\n  let numberOfAetam = Object.keys(getAetam).map((key) => getAetam[key]);\n\n  let totalNum = parseInt(numberOfAetam[0]) + parseInt(numberOfNonAetam[0]);\n\n  \n\n  const page = user ? (\n    user.hostelName === hostelName || user.hostelName === admin ? (\n      <div>\n        <section  >\n          <div >\n            <div className=\"container\">\n              <div className=\"box_one\">\n                <img src={hostelImage} alt=\"hostel\" className=\"image_box\" />\n              </div>\n              <div className=\"box_two\">\n                <h2>Hostel Information</h2>\n                <div>\n                  <label>Hostel Name</label> : <span>{hostelName && hostelName.toUpperCase()}</span> \n                </div>\n                <div>\n                  <label>Year Establish</label> : <span>2020</span>\n                </div>\n                <div>\n                  <label>Hostel Master</label> :<span>{hostelMaster && hostelMaster.toUpperCase()}</span> \n                </div>\n                {/* <div>num_aetam\n                            <label>Hoster Mistress</label> : Mistress Basiroh\n                        </div> */}\n                <div>\n                  <label>Total Number of Students</label> :<span>{totalNum}</span>\n                </div>\n                <div>\n                  <label>Non Aetam</label> : <span>{numberOfNonAetam[0]}</span>\n                </div>\n                <div>\n                  <label>Aetam</label> : <span>{numberOfAetam[0]}</span>\n                </div>\n              </div>\n              <div className=\"box_three\">\n                <Link to=\"/registration\" className=\"navbar-logo\">\n                  <div className=\"btn\">Add New Student</div>\n                </Link>\n                <Link to=\"/search\" className=\"navbar-logo btn-space\">\n                  <div className=\"btn\">Search Students</div>\n                </Link>\n                <Link\n                  to={`/view/${hostelName}`}\n                  className=\"navbar-logo btn-space\"\n                >\n                  <div className=\"btn\">View Students</div>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    ) : (\n      <Button color=\"teal\" as={Link} to=\"/ourproject\" secondary>\n       Click To View Our Project\n      </Button>\n    )\n  ) : (\n    <Button color=\"teal\" as={Link}  to=\"/ourproject\" secondary>\n      Click to View Our Project\n    </Button>\n  );\n\n  return page;\n}\n\nexport default Hostel;\n"]},"metadata":{},"sourceType":"module"}